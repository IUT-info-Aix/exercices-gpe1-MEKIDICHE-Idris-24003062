<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="a.d.SiteController"
            prefHeight="800.0" prefWidth="1200.0">
    <left>
        <VBox styleClass="sidebar" prefWidth="220.0" spacing="5.0">
            <HBox styleClass="logoContainer" alignment="CENTER_LEFT" spacing="10.0">
                <Label text="amU" styleClass="logo">
                    <font>
                        <Font name="System Bold" size="36.0"/>
                    </font>
                </Label>
                <Label text="Assistance" styleClass="logoSubtitle"/>
                <Label text="Numérique" styleClass="logoSubtitle"/>
                <Label text="Universitaire" styleClass="logoSubtitle"/>
            </HBox>

            <VBox styleClass="menu-section" spacing="5.0">
                <HBox styleClass="menu-header" alignment="CENTER_LEFT" spacing="10.0">
                    <Label text="Menu principal" styleClass="menu-title"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button styleClass="arrow-button" text="▼"/>
                </HBox>

                <HBox styleClass="menu-item" onMouseClicked="#handleMenuClick">
                    <Label styleClass="menu-icon" text="🏠"/>
                    <Label text="Tableau de bord" styleClass="menu-label"/>
                </HBox>

                <HBox styleClass="menu-item" onMouseClicked="#handleMenuClick">
                    <Label styleClass="menu-icon" text="📝"/>
                    <Label text="Déposer ma demande" styleClass="menu-label-active"/>
                </HBox>
            </VBox>

            <VBox styleClass="menu-section" spacing="5.0">
                <HBox styleClass="menu-header" alignment="CENTER_LEFT" spacing="10.0">
                    <Label text="Mes demandes" styleClass="menu-title"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button styleClass="arrow-button" text="▼"/>
                </HBox>

                <HBox styleClass="menu-item" onMouseClicked="#handleMenuClick">
                    <Label styleClass="menu-icon" text="📋"/>
                    <Label text="En cours" styleClass="menu-label"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label text="6" styleClass="count-badge"/>
                </HBox>

                <HBox styleClass="menu-item" onMouseClicked="#handleMenuClick">
                    <Label styleClass="menu-icon" text="📋"/>
                    <Label text="Résolues : à approuver" styleClass="menu-label"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label text="3" styleClass="count-badge"/>
                </HBox>

                <HBox styleClass="menu-item" onMouseClicked="#handleMenuClick">
                    <Label styleClass="menu-icon" text="📋"/>
                    <Label text="Terminées" styleClass="menu-label"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label text="92" styleClass="count-badge"/>
                </HBox>
            </VBox>

            <VBox styleClass="menu-section" spacing="5.0">
                <HBox styleClass="menu-header" alignment="CENTER_LEFT" spacing="10.0">
                    <Label text="Autres" styleClass="menu-title"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button styleClass="arrow-button" text="▼"/>
                </HBox>

                <HBox styleClass="menu-item" onMouseClicked="#handleMenuClick">
                    <Label styleClass="menu-icon" text="⚙️"/>
                    <Label text="Mes préférences" styleClass="menu-label"/>
                </HBox>
            </VBox>
        </VBox>
    </left>

    <top>
        <HBox styleClass="header" alignment="CENTER_LEFT" spacing="10.0">
            <Button styleClass="header-button">
                <graphic>
                    <Label text="🏠"/>
                </graphic>
            </Button>
            <Label text="Tableau de bord" styleClass="header-title"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Label text="Personnel AMU ou hébergé" styleClass="header-user"/>
            <Label text="..." styleClass="header-path"/>
            <Label text="> AMU (structure complète)" styleClass="header-path"/>
            <Label text="GM" styleClass="user-avatar"/>
        </HBox>
    </top>

    <center>
        <VBox styleClass="content-area">
            <StackPane styleClass="search-section">
                <VBox alignment="CENTER" spacing="20.0">
                    <Label text="Décrivez votre besoin par mots-clés" styleClass="search-title"/>

                    <HBox alignment="CENTER" spacing="0">
                        <TextField fx:id="searchField" styleClass="search-field" prefWidth="600.0" prefHeight="40.0"/>
                        <Button fx:id="searchButton" onMouseClicked="#handleSearch" styleClass="search-button" text="🔍" prefHeight="40.0"/>
                    </HBox>
                </VBox>
            </StackPane>

            <GridPane styleClass="categories-grid" hgap="10" vgap="10" alignment="CENTER">
                <columnConstraints>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="220.0"/>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="220.0"/>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="220.0"/>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="220.0"/>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="220.0"/>
                </columnConstraints>
                <rowConstraints>
                    <RowConstraints vgrow="SOMETIMES" minHeight="10.0" prefHeight="180.0"/>
                    <RowConstraints vgrow="SOMETIMES" minHeight="10.0" prefHeight="180.0"/>
                </rowConstraints>

                <!-- Première ligne de catégories -->
                <VBox styleClass="category-card" id="informatique" onMouseClicked="#handleCategoryClick" GridPane.columnIndex="0" GridPane.rowIndex="0">
                    <Label styleClass="category-icon" text="💻"/>
                    <Label styleClass="category-label" text="Informatique"/>
                    <Label styleClass="category-description" text="Toutes mes demandes informatiq (...)"/>
                </VBox>

                <VBox styleClass="category-card" id="impression" onMouseClicked="#handleCategoryClick" GridPane.columnIndex="1" GridPane.rowIndex="0">
                    <Label styleClass="category-icon" text="🖨️"/>
                    <Label styleClass="category-label" text="Impression"/>
                    <Label styleClass="category-description" text="Toutes mes demandes relatives (...)"/>
                </VBox>

                <VBox styleClass="category-card" id="telephonie1" onMouseClicked="#handleCategoryClick" GridPane.columnIndex="2" GridPane.rowIndex="0">
                    <Label styleClass="category-icon" text="📞"/>
                    <Label styleClass="category-label" text="Téléphonie"/>
                    <Label styleClass="category-description" text="Toutes mes demandes relatives (...)"/>
                </VBox>

                <VBox styleClass="category-card" id="telephonie2" onMouseClicked="#handleCategoryClick" GridPane.columnIndex="3" GridPane.rowIndex="0">
                    <Label styleClass="category-icon" text="📞"/>
                    <Label styleClass="category-label" text="Téléphonie"/>
                    <Label styleClass="category-description" text="Toutes mes demandes relatives (...)"/>
                </VBox>

                <VBox styleClass="category-card" id="autres-thematiques" onMouseClicked="#handleCategoryClick" GridPane.columnIndex="4" GridPane.rowIndex="0">
                    <Label styleClass="category-icon" text="🚪"/>
                    <Label styleClass="category-label" text="Autres thématiques"/>
                    <Label styleClass="category-description" text="Toutes mes demandes concernant (...)"/>
                </VBox>

                <!-- Deuxième ligne de catégories -->
                <VBox styleClass="category-card-purple" id="mon-avis" onMouseClicked="#handleCategoryClick" GridPane.columnIndex="0" GridPane.rowIndex="1">
                    <Label styleClass="category-icon" text="⭐"/>
                    <Label styleClass="category-label" text="Mon avis"/>
                    <Label styleClass="category-description" text="Je souhaite donner mon avis su (...)"/>
                </VBox>

                <VBox styleClass="category-card-purple" id="probleme-acces" onMouseClicked="#handleCategoryClick" GridPane.columnIndex="1" GridPane.rowIndex="1">
                    <Label styleClass="category-icon" text="⚠️"/>
                    <Label styleClass="category-label" text="Problème d'accès à mon compte"/>
                    <Label styleClass="category-description" text="Je souhaite retrouver l'accès (...)"/>
                </VBox>

                <VBox styleClass="category-card" id="espace-gestionnaires" onMouseClicked="#handleCategoryClick" GridPane.columnIndex="2" GridPane.rowIndex="1">
                    <Label styleClass="category-icon" text="⚙️"/>
                    <Label styleClass="category-label" text="Espace gestionnaires"/>
                    <Label styleClass="category-description" text="Toutes mes demandes en tant qu (...)"/>
                </VBox>
            </GridPane>
        </VBox>
    </center>
</BorderPane>